<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{{ teacher_name }} - Ratings</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  {% include 'navbar.html' %}
  <div class="container text-center mt-5">
    <h3>Ratings for {{ teacher_name }}</h3>

    {% if labels and values %}
      <canvas id="ratingChart" width="400" height="400"></canvas>
      <script>
        const ctx = document.getElementById('ratingChart').getContext('2d');
        new Chart(ctx, {
          type: 'pie',
          data: {
            labels: {{ labels|tojson }},
            datasets: [{
              data: {{ values|tojson }},
              backgroundColor: ['#FF6384','#36A2EB','#FFCE56','#4BC0C0','#9966FF']
            }]
          },
          options: { responsive: true, plugins: { legend: { position: 'bottom' } } }
        });
      </script>
    {% else %}
      <div class="alert alert-info">No feedback yet for this teacher.</div>
    {% endif %}

    <a class="btn btn-primary mt-4" href="{{ url_for('admin_dashboard') }}">Back</a>
  </div>
</body>
</html>
